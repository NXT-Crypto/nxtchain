package main

import (
	"fmt"
	"nxtchain/clitools"
	"nxtchain/configmanager"
	"nxtchain/encryption"
	"nxtchain/gonetic"
	"nxtchain/nextutils"
	"nxtchain/nxtblock"
	"nxtchain/nxtutxodb"
	"nxtchain/pqckpg_api"
	"strconv"
	"strings"
	"time"
)

// * GLOBAL VARS * //
var version string = "0.0.0"
var devmode bool = true

// * CONFIG * //
var config configmanager.Config

var privateKey = []byte{92, 136, 23, 95, 71, 50, 218, 2, 31, 174, 23, 179, 130, 144, 2, 17, 23, 194, 115, 49, 168, 1, 213, 17, 174, 68, 239, 36, 41, 214, 58, 92, 46, 95, 7, 193, 246, 25, 199, 92, 207, 152, 168, 77, 220, 60, 104, 219, 83, 26, 208, 21, 140, 223, 85, 140, 156, 249, 40, 118, 250, 216, 27, 165, 140, 115, 89, 240, 214, 175, 40, 65, 19, 46, 106, 114, 240, 62, 53, 178, 116, 103, 236, 52, 113, 208, 81, 248, 7, 36, 186, 26, 245, 0, 2, 239, 210, 4, 36, 129, 52, 44, 128, 52, 73, 26, 7, 140, 26, 66, 146, 11, 49, 18, 65, 160, 132, 27, 48, 130, 201, 130, 100, 217, 160, 0, 225, 50, 44, 227, 16, 68, 163, 160, 80, 35, 50, 68, 34, 3, 104, 25, 33, 69, 11, 132, 97, 33, 163, 68, 140, 24, 42, 155, 54, 46, 8, 133, 13, 99, 152, 80, 34, 25, 64, 16, 8, 101, 90, 182, 137, 131, 34, 133, 2, 133, 73, 84, 66, 146, 147, 48, 9, 212, 162, 112, 35, 48, 101, 226, 148, 5, 19, 135, 69, 76, 70, 40, 91, 40, 70, 8, 41, 108, 152, 130, 64, 32, 40, 48, 81, 148, 77, 161, 2, 140, 32, 183, 137, 146, 64, 38, 33, 198, 73, 75, 2, 106, 18, 18, 132, 18, 9, 141, 137, 184, 109, 96, 36, 18, 228, 36, 138, 24, 40, 101, 25, 196, 32, 100, 16, 145, 217, 50, 136, 32, 168, 12, 26, 16, 140, 201, 8, 137, 91, 132, 81, 88, 34, 82, 28, 68, 2, 34, 20, 97, 164, 16, 17, 160, 20, 45, 18, 57, 42, 129, 200, 113, 26, 38, 72, 195, 152, 45, 24, 4, 102, 18, 18, 17, 18, 146, 1, 2, 164, 68, 132, 200, 65, 145, 164, 41, 8, 73, 40, 35, 192, 145, 11, 197, 108, 200, 2, 100, 228, 168, 65, 36, 181, 81, 202, 0, 136, 131, 130, 49, 36, 51, 2, 28, 37, 129, 28, 40, 38, 203, 54, 145, 88, 4, 130, 19, 195, 72, 98, 22, 140, 3, 24, 49, 89, 6, 96, 227, 8, 69, 17, 137, 97, 74, 52, 141, 25, 164, 48, 9, 54, 10, 1, 144, 68, 32, 180, 144, 193, 64, 13, 1, 197, 41, 66, 160, 80, 32, 71, 108, 155, 146, 97, 25, 22, 106, 97, 20, 66, 26, 38, 49, 128, 178, 129, 34, 21, 138, 24, 56, 145, 27, 149, 16, 228, 68, 33, 25, 19, 16, 80, 22, 8, 98, 6, 6, 192, 70, 114, 219, 184, 133, 33, 192, 36, 32, 166, 44, 194, 160, 5, 209, 66, 0, 9, 21, 129, 25, 4, 146, 132, 196, 41, 8, 199, 1, 11, 56, 18, 217, 64, 98, 153, 72, 36, 218, 24, 130, 32, 6, 72, 19, 147, 136, 35, 185, 32, 36, 133, 69, 3, 201, 137, 24, 50, 145, 208, 16, 134, 19, 201, 48, 32, 53, 38, 154, 150, 65, 17, 198, 33, 8, 3, 112, 66, 34, 145, 34, 192, 72, 17, 134, 101, 203, 54, 4, 12, 38, 4, 65, 160, 33, 216, 130, 17, 17, 1, 66, 17, 148, 112, 35, 5, 72, 156, 182, 100, 164, 2, 44, 28, 72, 48, 32, 150, 101, 90, 50, 17, 219, 4, 129, 27, 145, 77, 28, 19, 142, 97, 4, 97, 0, 133, 81, 33, 129, 113, 84, 40, 82, 11, 41, 81, 81, 164, 12, 20, 22, 65, 97, 66, 14, 160, 176, 33, 212, 52, 73, 164, 64, 14, 139, 64, 50, 194, 40, 16, 65, 148, 65, 34, 23, 106, 75, 146, 144, 89, 180, 8, 10, 165, 12, 100, 54, 18, 0, 3, 12, 156, 70, 134, 24, 21, 96, 210, 38, 104, 145, 72, 45, 203, 136, 132, 145, 50, 32, 18, 18, 33, 139, 68, 138, 36, 41, 133, 12, 71, 34, 26, 147, 104, 20, 71, 145, 10, 131, 65, 25, 129, 5, 33, 150, 141, 136, 36, 70, 65, 24, 136, 18, 56, 97, 17, 178, 137, 8, 134, 97, 12, 178, 5, 20, 153, 48, 144, 34, 32, 130, 164, 137, 194, 176, 128, 156, 192, 145, 136, 182, 49, 146, 22, 77, 4, 163, 132, 196, 70, 138, 67, 72, 137, 144, 132, 1, 219, 148, 140, 224, 130, 96, 140, 32, 146, 208, 192, 16, 19, 57, 80, 92, 56, 77, 35, 177, 68, 97, 198, 104, 148, 64, 77, 34, 56, 141, 200, 194, 101, 36, 153, 77, 0, 34, 102, 194, 4, 6, 20, 34, 13, 226, 56, 109, 196, 38, 32, 225, 176, 101, 20, 136, 72, 4, 164, 65, 164, 166, 48, 67, 4, 2, 17, 195, 97, 210, 68, 136, 99, 152, 97, 19, 160, 32, 9, 137, 37, 154, 184, 140, 201, 50, 2, 224, 150, 45, 73, 22, 108, 64, 168, 105, 36, 0, 8, 225, 148, 129, 0, 66, 72, 76, 18, 4, 34, 52, 129, 74, 50, 78, 99, 130, 145, 140, 20, 2, 204, 18, 137, 220, 40, 133, 81, 20, 98, 147, 130, 105, 147, 184, 45, 73, 2, 36, 20, 196, 76, 18, 165, 64, 19, 153, 136, 72, 38, 66, 209, 24, 141, 84, 194, 48, 17, 6, 1, 193, 0, 78, 25, 49, 137, 147, 192, 49, 24, 3, 144, 139, 20, 77, 217, 40, 110, 8, 8, 142, 132, 198, 1, 73, 136, 101, 9, 2, 102, 225, 144, 33, 156, 0, 80, 97, 72, 16, 163, 70, 73, 26, 72, 130, 2, 48, 98, 9, 2, 136, 139, 48, 4, 140, 132, 48, 161, 18, 68, 227, 38, 14, 99, 2, 108, 164, 178, 1, 212, 136, 101, 1, 49, 2, 163, 164, 100, 228, 136, 128, 97, 34, 5, 88, 6, 114, 224, 194, 12, 208, 130, 145, 65, 178, 81, 1, 185, 13, 8, 52, 104, 28, 192, 104, 84, 2, 40, 220, 200, 96, 24, 168, 113, 209, 34, 37, 20, 64, 50, 35, 23, 38, 91, 6, 114, 35, 166, 4, 33, 182, 113, 219, 192, 40, 2, 165, 0, 195, 166, 72, 27, 3, 34, 72, 200, 112, 216, 130, 105, 28, 33, 102, 28, 66, 33, 154, 64, 141, 0, 72, 80, 137, 52, 32, 1, 165, 12, 34, 37, 112, 210, 32, 72, 139, 38, 133, 152, 48, 12, 200, 178, 101, 28, 34, 74, 96, 146, 40, 36, 64, 98, 67, 32, 128, 201, 192, 17, 139, 66, 82, 152, 200, 48, 128, 148, 1, 92, 52, 2, 89, 38, 48, 25, 66, 106, 32, 131, 68, 10, 24, 96, 1, 198, 5, 196, 146, 69, 129, 166, 45, 148, 136, 100, 64, 132, 44, 89, 50, 18, 98, 6, 142, 81, 160, 144, 75, 146, 77, 3, 181, 97, 28, 180, 37, 1, 6, 9, 100, 178, 113, 132, 166, 100, 100, 64, 8, 74, 18, 146, 33, 196, 4, 204, 20, 12, 92, 2, 102, 11, 64, 146, 33, 7, 101, 98, 34, 114, 25, 64, 2, 128, 24, 146, 129, 166, 109, 220, 136, 81, 72, 50, 132, 164, 24, 8, 148, 32, 104, 82, 148, 140, 10, 35, 137, 228, 72, 132, 153, 50, 100, 3, 2, 65, 138, 70, 142, 219, 134, 144, 140, 160, 13, 162, 2, 4, 128, 34, 133, 35, 17, 0, 83, 38, 1, 17, 133, 65, 227, 64, 4, 209, 144, 32, 10, 67, 101, 156, 168, 45, 25, 137, 80, 20, 181, 77, 99, 2, 46, 153, 70, 6, 25, 151, 105, 137, 52, 132, 208, 168, 81, 193, 176, 77, 11, 21, 128, 2, 20, 72, 34, 153, 136, 128, 6, 49, 92, 72, 12, 19, 2, 50, 36, 7, 16, 11, 50, 110, 25, 193, 96, 193, 32, 136, 212, 6, 2, 12, 201, 96, 96, 152, 81, 140, 18, 104, 11, 183, 41, 96, 68, 144, 12, 17, 73, 227, 166, 36, 67, 70, 42, 35, 70, 2, 208, 48, 110, 76, 0, 98, 8, 132, 36, 24, 150, 109, 195, 0, 0, 25, 56, 5, 154, 146, 41, 28, 161, 5, 210, 196, 49, 19, 64, 137, 4, 21, 132, 35, 169, 140, 3, 37, 106, 9, 67, 36, 10, 180, 17, 24, 147, 76, 204, 68, 46, 28, 181, 133, 16, 18, 72, 139, 50, 102, 136, 48, 128, 8, 192, 40, 4, 200, 108, 227, 192, 33, 28, 25, 12, 139, 2, 33, 68, 148, 72, 203, 176, 140, 19, 162, 112, 154, 128, 36, 210, 40, 64, 204, 128, 100, 193, 194, 113, 162, 2, 12, 9, 39, 12, 1, 55, 45, 137, 16, 10, 97, 24, 36, 76, 192, 100, 96, 18, 17, 146, 148, 133, 211, 182, 133, 144, 4, 136, 128, 150, 69, 193, 70, 13, 209, 184, 49, 132, 160, 133, 154, 56, 80, 153, 24, 97, 225, 52, 101, 1, 177, 68, 24, 198, 8, 65, 196, 48, 24, 73, 74, 200, 50, 64, 19, 145, 4, 82, 164, 112, 97, 0, 0, 36, 165, 141, 11, 18, 145, 200, 180, 128, 200, 4, 18, 0, 73, 106, 65, 178, 133, 3, 163, 4, 196, 148, 33, 162, 6, 102, 227, 50, 102, 4, 51, 136, 130, 54, 96, 163, 160, 64, 251, 211, 97, 3, 17, 185, 135, 174, 201, 99, 166, 235, 134, 205, 211, 192, 102, 158, 20, 25, 104, 219, 6, 53, 180, 168, 151, 162, 81, 68, 20, 110, 111, 168, 232, 152, 11, 225, 33, 27, 8, 76, 119, 220, 20, 129, 211, 237, 236, 26, 158, 85, 237, 199, 138, 11, 135, 47, 243, 79, 47, 105, 239, 242, 5, 249, 182, 196, 222, 231, 216, 33, 85, 175, 101, 184, 40, 115, 165, 88, 207, 67, 243, 84, 41, 100, 153, 157, 184, 88, 166, 186, 251, 107, 70, 102, 214, 156, 212, 96, 2, 44, 63, 61, 135, 110, 50, 26, 125, 86, 236, 175, 187, 32, 71, 247, 51, 10, 0, 197, 119, 13, 190, 41, 153, 134, 225, 178, 133, 166, 92, 41, 157, 164, 249, 219, 53, 185, 180, 181, 139, 255, 54, 129, 101, 135, 214, 135, 121, 221, 46, 80, 4, 235, 108, 154, 125, 151, 131, 161, 64, 193, 100, 139, 100, 77, 174, 189, 17, 11, 109, 183, 15, 85, 136, 167, 250, 214, 96, 206, 85, 117, 162, 108, 139, 238, 123, 60, 95, 48, 116, 227, 57, 197, 176, 53, 99, 177, 135, 23, 83, 131, 214, 189, 36, 209, 137, 196, 168, 201, 122, 80, 92, 225, 98, 158, 254, 112, 173, 109, 148, 65, 131, 74, 28, 224, 57, 185, 100, 141, 151, 150, 248, 22, 254, 191, 164, 243, 200, 163, 225, 79, 52, 29, 202, 158, 237, 190, 248, 210, 88, 49, 128, 157, 23, 86, 16, 105, 242, 113, 106, 85, 158, 87, 5, 44, 227, 11, 97, 217, 60, 14, 65, 223, 154, 51, 16, 180, 138, 109, 118, 180, 210, 117, 25, 184, 249, 207, 239, 74, 246, 131, 41, 231, 146, 226, 20, 108, 96, 164, 100, 176, 201, 220, 76, 13, 218, 23, 119, 224, 39, 9, 38, 6, 157, 206, 100, 211, 120, 124, 198, 52, 43, 253, 149, 62, 220, 117, 175, 134, 215, 102, 117, 54, 130, 139, 11, 161, 127, 143, 247, 38, 172, 120, 63, 87, 102, 144, 38, 234, 113, 4, 49, 154, 227, 58, 1, 91, 235, 168, 95, 105, 215, 48, 41, 67, 177, 98, 136, 97, 237, 169, 20, 64, 71, 207, 8, 153, 206, 252, 196, 13, 189, 200, 31, 119, 19, 100, 215, 239, 22, 37, 74, 38, 182, 1, 69, 5, 222, 114, 50, 180, 250, 34, 159, 45, 164, 114, 29, 75, 114, 27, 211, 90, 66, 58, 207, 111, 91, 189, 149, 56, 110, 142, 0, 73, 106, 160, 53, 12, 76, 30, 153, 88, 62, 118, 244, 8, 67, 31, 96, 206, 68, 51, 240, 72, 68, 53, 118, 100, 195, 165, 215, 217, 71, 193, 223, 60, 0, 41, 204, 111, 206, 23, 55, 243, 179, 15, 118, 111, 221, 7, 33, 42, 93, 97, 254, 18, 159, 37, 219, 49, 31, 117, 165, 146, 11, 44, 150, 80, 110, 209, 142, 108, 48, 34, 2, 82, 46, 10, 250, 233, 230, 195, 149, 75, 11, 156, 165, 176, 207, 177, 86, 252, 91, 227, 54, 58, 191, 145, 2, 240, 11, 64, 245, 225, 17, 133, 192, 53, 95, 75, 136, 21, 142, 77, 180, 10, 145, 98, 32, 72, 196, 78, 229, 41, 182, 55, 178, 72, 4, 229, 100, 48, 33, 90, 215, 32, 48, 26, 52, 224, 128, 83, 5, 14, 67, 3, 29, 128, 38, 47, 43, 184, 6, 199, 89, 17, 69, 176, 55, 113, 197, 60, 94, 128, 43, 59, 252, 32, 62, 153, 219, 192, 185, 192, 64, 198, 107, 194, 12, 205, 204, 74, 244, 0, 27, 54, 139, 145, 231, 240, 35, 135, 191, 127, 177, 224, 141, 162, 160, 206, 174, 236, 224, 53, 56, 102, 16, 153, 163, 31, 237, 179, 23, 49, 81, 155, 81, 173, 39, 163, 54, 200, 36, 185, 232, 191, 143, 25, 212, 134, 35, 174, 73, 232, 187, 145, 120, 121, 219, 166, 191, 161, 49, 108, 123, 253, 97, 151, 106, 176, 193, 208, 140, 117, 38, 123, 117, 239, 27, 238, 1, 57, 176, 19, 22, 233, 58, 215, 55, 112, 246, 180, 126, 100, 54, 65, 17, 201, 157, 158, 92, 139, 185, 142, 80, 196, 171, 135, 210, 164, 164, 103, 208, 69, 191, 119, 239, 210, 40, 184, 39, 78, 21, 118, 28, 128, 17, 90, 225, 213, 67, 105, 157, 72, 162, 140, 105, 254, 15, 196, 89, 129, 103, 126, 204, 46, 19, 113, 203, 145, 216, 129, 37, 195, 8, 161, 15, 220, 160, 195, 194, 21, 107, 129, 1, 60, 232, 117, 184, 255, 142, 58, 241, 85, 104, 223, 28, 20, 211, 24, 235, 229, 217, 68, 66, 64, 137, 69, 154, 249, 189, 64, 254, 121, 224, 44, 155, 50, 192, 251, 41, 230, 133, 65, 200, 135, 70, 46, 76, 204, 208, 25, 249, 122, 152, 104, 2, 40, 62, 253, 75, 7, 73, 56, 155, 30, 200, 18, 253, 180, 40, 39, 4, 18, 125, 72, 140, 170, 106, 11, 174, 76, 205, 24, 153, 135, 21, 167, 14, 9, 26, 214, 85, 82, 149, 223, 81, 83, 120, 244, 166, 109, 83, 171, 224, 181, 33, 226, 119, 234, 76, 168, 218, 127, 207, 216, 103, 51, 115, 136, 230, 35, 94, 245, 29, 96, 31, 9, 33, 77, 189, 96, 4, 183, 108, 133, 226, 78, 243, 249, 86, 239, 15, 20, 207, 35, 200, 28, 157, 115, 132, 41, 169, 97, 221, 209, 196, 179, 150, 130, 214, 55, 55, 71, 188, 33, 67, 195, 152, 1, 61, 221, 4, 254, 196, 99, 38, 81, 209, 154, 222, 79, 236, 23, 75, 189, 52, 59, 253, 81, 106, 138, 28, 194, 143, 193, 168, 230, 135, 158, 228, 130, 88, 59, 130, 35, 215, 151, 138, 216, 2, 43, 160, 21, 0, 192, 25, 244, 237, 74, 1, 69, 82, 254, 48, 2, 25, 234, 1, 102, 65, 230, 88, 212, 163, 116, 21, 88, 195, 136, 122, 64, 82, 171, 92, 210, 6, 130, 28, 45, 185, 241, 179, 155, 185, 64, 69, 210, 85, 192, 33, 59, 11, 155, 239, 132, 42, 243, 8, 117, 5, 119, 184, 131, 216, 201, 141, 105, 220, 217, 57, 14, 151, 40, 64, 135, 247, 73, 35, 9, 50, 231, 158, 208, 163, 18, 88, 121, 251, 13, 131, 70, 233, 144, 153, 115, 27, 65, 215, 254, 186, 29, 108, 57, 58, 169, 174, 98, 29, 193, 167, 33, 8, 47, 128, 192, 30, 49, 224, 49, 187, 175, 55, 61, 165, 120, 34, 224, 37, 27, 188, 7, 116, 1, 81, 245, 11, 207, 194, 177, 78, 71, 2, 56, 122, 206, 62, 46, 63, 155, 38, 171, 200, 204, 156, 187, 178, 152, 41, 237, 126, 135, 21, 198, 85, 10, 71, 90, 157, 74, 108, 145, 129, 0, 149, 101, 69, 88, 210, 49, 229, 249, 62, 221, 105, 44, 66, 118, 215, 0, 71, 36, 228, 83, 245, 202, 178, 214, 228, 104, 61, 7, 72, 18, 218, 178, 121, 116, 40, 199, 185, 107, 168, 240, 139, 242, 26, 200, 86, 7, 41, 92, 123, 109, 13, 202, 137, 231, 162, 72, 243, 91, 118, 42, 18, 250, 136, 190, 255, 171, 102, 2, 129, 20, 73, 67, 35, 179, 63, 53, 100, 121, 120, 135, 191, 240, 35, 100, 83, 64, 240, 64, 213, 0, 217, 89, 234, 154, 174, 251, 166, 186, 79, 143, 113, 200, 35, 29, 247, 150, 21, 46, 195, 250, 171, 131, 221, 161, 86, 110, 164, 0, 175, 116, 217, 218, 137, 254, 105, 234, 96, 103, 18, 23, 53, 99, 66, 78, 248, 123, 135, 22, 197, 108, 8, 207, 39, 160, 203, 226, 254, 96, 254, 241, 137, 64, 176, 219, 80, 23, 105, 229, 47, 118, 52, 57, 242, 197, 200, 210, 241, 232, 9, 150, 88, 151, 221, 12, 136, 114, 127, 77, 25, 233, 0, 251, 112, 29, 103, 95, 224, 142, 25, 36, 165, 231, 142, 220, 119, 178, 56, 95, 115, 31, 220, 66, 243, 212, 156, 159, 56, 19, 243, 242, 139, 58, 13, 45, 76, 90, 223, 74, 79, 77, 130, 10, 229, 94, 96, 176, 252, 167, 2, 227, 209, 124, 93, 198, 237, 67, 240, 72, 19, 206, 122, 158, 111, 152, 18, 7, 162, 108, 87, 212, 50, 179, 190, 118, 227, 236, 45, 170, 212, 120, 116, 62, 227, 83, 189, 199, 156, 78, 136, 37, 120, 162, 45, 1, 123, 31, 55, 64, 230, 7, 96, 127, 103, 2, 104, 32, 186, 136, 53, 157, 5, 94, 72, 39, 136, 166, 42, 206, 125, 90, 197, 13, 142, 76, 46, 45, 155, 126, 25, 5, 121, 230, 135, 60, 228, 246, 71, 206, 191, 253, 138, 34, 174, 26, 134, 89, 74, 236, 61, 26, 114, 112, 208, 56, 92, 197, 11, 210, 228, 8, 226, 87, 58, 223, 68, 44, 117, 223, 9, 170, 114, 154, 142, 203, 114, 185, 50, 146, 7, 92, 201, 31, 104, 231, 255, 154, 157, 103, 20, 100, 10, 37, 248, 5, 12, 55, 117, 213, 75, 2, 45, 139, 23, 3, 8, 119, 23, 163, 81, 11, 178, 148, 68, 118, 35, 210, 69, 113, 39, 197, 119, 140, 250, 174, 246, 165, 91, 175, 155, 89, 115, 220, 246, 247, 253, 76, 41, 134, 245, 145, 218, 94, 73, 20, 246, 89, 0, 178, 203, 77, 40, 221, 191, 235, 94, 52, 77, 101, 93, 192, 6, 134, 119, 171, 116, 70, 219, 22, 77, 161, 229, 180, 130, 62, 124, 213, 36, 110, 255, 193, 175, 148, 110, 201, 76, 61, 178, 172, 175, 184, 254, 63, 204, 148, 90, 35, 42, 252, 168, 13, 244, 216, 198, 190, 191, 173, 126, 117, 133, 200, 156, 45, 168, 239, 12, 86, 248, 158, 251, 251, 121, 48, 194, 138, 76, 139, 111, 136, 122, 170, 104, 178, 79, 7, 110, 120, 66, 213, 18, 133, 133, 169, 148, 165, 21, 195, 45, 173, 116, 75, 232, 4, 124, 250, 127, 216, 233, 33, 114, 130, 230, 162, 3, 111, 110, 232, 53, 71, 215, 66, 130, 198, 5, 29, 11, 124, 74, 180, 141, 68, 217, 39, 105, 81, 54, 172, 159, 120, 25, 73, 8, 74, 107, 234, 3, 50, 48, 44, 227, 94, 209, 71, 240, 81, 41, 58, 30, 184, 120, 208, 139, 109, 16, 207, 249, 68, 252, 147, 0, 217, 74, 53, 171, 42, 84, 209, 42, 120, 113, 90, 61, 71, 2, 133, 37, 252, 245, 195, 159, 25, 45, 73, 50, 228, 93, 180, 122, 71, 184, 147, 16, 11, 10, 118, 247, 3, 204, 244, 2, 101, 246, 154, 99, 14, 189, 129, 31, 91, 165, 248, 4, 70, 103, 185, 88, 3, 222, 102, 52, 87, 178, 229, 1, 23, 12, 130, 24, 42, 237, 144, 196, 207, 0, 204, 237, 70, 108, 118, 95, 67, 221, 47, 213, 135, 96, 186, 66, 0, 181, 87, 178, 39, 121, 188, 156, 193, 81, 214, 37, 158, 216, 202, 184, 247, 104, 95, 130, 56, 217, 86, 142, 183, 74, 235, 83, 46, 50, 124, 229, 37, 98, 46, 44, 76, 120, 171, 192, 85, 248, 193, 123, 223, 19, 203, 215, 201, 248, 229, 27, 164, 14, 234, 111, 2, 103, 170, 11, 230, 160, 149, 36, 106, 237, 8, 210, 188, 161, 200, 228, 238, 105, 124, 127, 207, 146, 89, 250, 245, 5, 249, 160, 197, 214, 255, 52, 135, 50, 179, 135, 76, 229, 225, 195, 99, 73, 79, 79, 112, 157, 139, 43, 182, 125, 230, 138, 163, 173, 53, 43, 162, 227, 204, 142, 97, 233, 251, 247, 228, 129, 20, 52, 84, 247, 188, 127, 84, 248, 255, 196, 161, 60, 220, 40, 19, 157, 172, 171, 100, 43, 215, 65, 54, 32, 61, 147, 254, 135, 33, 3, 77, 6, 126, 2, 112, 114, 79, 215, 206, 81, 11, 188, 252, 169, 171, 90, 199, 178, 184, 61, 155, 88, 130, 214, 102, 14, 194, 30, 199, 121, 217, 42, 152, 236, 1, 76, 109, 97, 220, 86, 119, 193, 52, 148, 101, 214, 102, 137, 147, 206, 33, 250, 109, 83, 32, 78, 199, 61, 98, 157, 126, 177, 166, 237, 159, 181, 181, 171, 1, 93, 33, 85, 222, 172, 251, 238, 233, 126, 11, 183, 233, 203, 12, 128, 34, 87, 147, 114, 44, 152, 8, 15, 164, 202, 82, 186, 125, 77, 177, 61, 44, 52, 112, 80, 132, 23, 240, 99, 201, 124, 109, 172, 125, 15, 172, 163, 251, 150, 39, 143, 28, 67, 166, 46, 213, 154, 229, 185, 149, 244, 127, 31, 231, 6, 195, 73, 37, 157, 252, 89, 103, 107, 102, 113, 143, 149, 54, 199, 129, 169, 136, 122, 177, 176, 228, 123, 180, 102, 115, 230, 213, 121, 114, 38, 50, 212, 112, 60, 80, 8, 80, 192, 66, 104, 107, 49, 10, 223, 109, 195, 166, 242, 140, 123, 15, 145, 56, 23, 126, 224, 59, 252, 161, 59, 244, 129, 92, 246, 36, 158, 4, 228, 218, 236, 198, 60, 223, 236, 218, 105, 17, 12, 111, 204, 9, 130, 78, 119, 88, 22, 27, 76, 233, 114, 236, 101, 41, 134, 227, 27, 141, 146, 127, 118, 42, 155, 46, 147, 76, 176, 124, 251, 165, 220, 130, 228, 66, 138, 152, 53, 113, 150, 7, 83, 8, 73, 236, 120, 243, 94, 20, 197, 34, 11, 146, 105, 54, 33, 90, 42, 234, 159, 253, 186, 16, 236, 113, 146, 168, 147, 235, 187, 75, 201, 37, 243, 49, 14, 117, 173, 26, 30, 68, 85, 212, 217, 12, 6, 55, 104, 87, 239, 74, 115, 247, 39, 162, 111, 42, 255, 183, 92, 151, 33, 130, 93, 59, 19, 179, 154, 180, 247, 64, 37, 86, 233, 204, 21, 176, 144, 39, 201, 187, 145, 181, 173, 43, 54, 121, 91, 1, 224, 44, 80, 183, 33, 158, 115, 146, 84, 78, 86, 227, 175, 61, 219, 206, 59, 87, 18, 78, 226, 150, 17, 224, 141, 167, 201, 3, 117, 77, 215, 239, 114, 13, 116, 122, 131, 129, 104, 212, 223, 177, 8, 178, 231, 20, 140, 35, 97, 96, 172, 128, 201, 225, 144, 241, 91, 98, 161, 87, 116, 203, 64, 219, 178, 129, 212, 18, 45, 11, 211, 147, 42, 21, 248, 187, 67, 29, 93, 178, 127, 196, 185, 227, 152, 132, 195, 16, 205, 168, 103, 153, 238, 62, 213, 9, 180, 193, 222, 115, 7, 121, 154, 149, 189, 2, 140, 109, 43, 147, 119, 112, 134, 243, 217, 133, 36, 252, 67, 244, 112, 4, 79, 103, 36, 153, 204, 163, 156, 207, 105, 123, 9, 246, 136, 23, 86, 192, 162, 149, 98, 192, 9, 65, 200, 23, 163, 180, 202, 76, 244, 215, 174, 42, 115, 216, 193, 23, 6, 101, 108, 58, 86, 87, 254, 199, 78, 216, 121, 159, 88, 252, 110, 245, 249, 37, 105, 216, 224, 56, 43, 39, 140, 61, 229, 211, 218, 126, 194, 249, 243, 4, 44, 216, 138, 109, 116, 215, 123, 253, 166, 233, 203, 166, 153, 3, 195, 131, 211, 190, 5, 212, 176, 155, 51, 248, 234, 230, 236, 144, 150, 134, 133, 183, 252, 109, 92, 250, 247, 18, 162, 238, 233, 84, 101, 237, 194, 158, 87, 62, 91, 59, 76, 13, 171, 81, 97, 66, 182, 171, 62, 182, 20, 143, 19, 51, 151, 147, 174, 62, 131, 208, 60, 206, 233, 86, 103, 33, 145, 74, 21, 182, 163, 63, 163, 168, 218, 4, 53, 112, 132, 205, 3, 198, 167, 92, 165, 186, 117, 16, 23, 140, 207, 195, 16, 72, 140, 153, 247, 197, 68, 137, 10, 158, 2, 255, 218, 50, 1, 177, 17, 134, 130, 120, 249, 68, 97, 253, 22, 8, 27, 57, 94, 238, 12, 95, 119, 109, 93, 229, 171, 122, 207, 239, 74, 216, 65, 182, 251, 150, 140, 173, 103, 108, 29, 45, 38, 77, 126, 224, 218, 154, 85, 227, 104, 165, 100, 190, 151, 123, 19, 88, 143, 84, 18, 66, 247, 227, 111, 8, 23, 89, 126, 42, 236, 185, 46, 145, 219, 37, 53, 225, 73, 186, 14, 166, 63, 59, 179, 196, 154, 102, 97, 8, 178, 26, 190, 54, 117, 73, 24, 9, 122, 60, 113, 134, 220, 41, 103, 231, 45, 94, 232, 168, 97, 41, 28, 53, 188, 183, 181, 140, 82, 186, 66, 157, 199, 75, 251, 248, 74, 68, 181, 234, 195, 137, 98, 180, 119, 58, 121, 81, 208, 189, 202, 9, 236, 56, 76, 120, 94, 82, 164, 31, 174, 212, 113, 107, 168, 231, 237, 189, 177, 60, 10, 163, 70, 133, 146, 5, 19, 113, 11, 100, 40, 102, 174, 53, 86, 33, 1, 17, 186, 39, 200, 203, 66, 151, 21, 36, 90, 81, 162, 189, 30, 100, 9, 20, 77, 77, 157, 68, 0, 137, 71, 227, 52, 198, 98, 233, 222, 148, 130, 208, 77, 88, 103, 181, 231, 238, 126, 195, 28, 204, 73, 126, 159, 105, 61, 140, 169, 136, 34, 253, 30, 174, 206, 81, 13, 9, 251, 80, 44, 28, 248, 111, 72, 26, 93, 38, 189, 155, 239, 116, 98, 40, 210, 153, 70, 196, 123, 94, 93, 110, 162, 233, 229, 35, 210, 13, 153, 250, 241, 178, 141, 41, 46, 64, 103, 118, 178, 216, 33, 238, 139, 4, 44, 121, 68, 77, 54, 56, 91, 231, 128, 33, 123, 41, 222, 253, 49, 106, 78, 191, 247, 199, 78, 57, 115, 39, 63, 226, 100, 178, 251, 204, 88, 22, 20, 90, 80, 82, 60, 161, 104, 225, 0, 187, 120, 243, 6, 84, 52, 199, 108, 247, 206, 205, 105, 64, 211, 209, 46, 58, 212, 31, 55, 133, 210, 148, 80, 192, 208, 224, 47, 232, 63, 245, 166, 19, 127, 230, 94, 50, 10, 96, 13, 89, 244, 88, 19, 234, 183, 100, 238, 222, 143, 163, 68, 197, 177, 4, 192, 32, 65, 223, 1, 86, 15, 231, 211, 17, 159, 163, 160, 27, 15, 156, 79, 140, 141, 164, 231, 224, 113, 47, 218, 128, 24, 43, 204, 216, 248, 18, 0, 244, 1, 59, 105, 117, 127, 32, 63, 101, 76, 225, 220, 163, 245, 68, 101, 141, 244, 184, 158, 160, 19, 35, 149, 227, 116, 165, 246, 127, 175, 183, 103, 86, 54, 18, 224, 189, 82, 38, 123, 60, 8, 143, 217, 126, 215, 154, 55, 181, 40, 18, 7, 124, 249, 147, 181, 113, 106, 56, 157, 104, 77, 213, 240, 11, 94, 35, 105, 102, 86, 124, 183, 59, 133, 70, 95, 63, 211, 165, 53, 42, 128, 200, 231, 236, 60, 62, 204, 81, 194, 155, 62, 29, 72, 164, 52, 32, 32, 194, 225, 23, 64, 218, 99, 250, 219, 128, 120, 199, 209, 186, 142, 21, 144, 58, 138, 92, 59, 53, 89, 225, 175, 124, 236, 203, 45, 144, 178, 240, 228, 131, 192, 210, 102, 45, 53, 91, 79, 141, 235, 129, 37, 213, 222, 40, 189, 105, 178, 240, 225, 213, 48, 169, 76, 213, 251, 87, 49, 87, 49, 44, 67, 174, 81, 100, 235, 36, 141, 27, 177, 252, 30, 166, 179, 44, 68, 231, 172, 15, 138, 185, 241, 244, 130, 237, 245, 223, 250, 129, 236, 28, 14, 53, 13, 103, 87, 86, 175, 194, 174, 215, 135, 18, 243, 137, 195, 80, 66, 6, 232, 206, 249, 249, 142, 246, 59, 209, 213, 57, 233, 250, 32, 51, 225, 62, 46, 49, 252, 128, 211, 68, 38, 203, 252, 145, 29, 20, 3, 253, 188, 198, 55, 61, 244, 125, 80, 141, 49, 54, 57, 42, 184, 109, 151, 69, 110, 236, 164, 15, 131, 239, 254, 130, 42, 25, 75, 148, 121, 82, 236, 189, 101, 178, 2, 62, 38, 211, 147, 52, 223, 117, 64, 52, 65, 10, 155, 209, 95, 36, 45, 36, 45, 36, 95, 239, 117, 1, 161, 104, 77, 124, 57, 38, 83, 68, 84, 31, 114, 88, 166, 209, 206, 132, 152, 77, 203, 217, 161, 220, 225, 51, 235, 161, 58, 37, 156, 51, 111, 17, 195, 200, 97, 45, 225, 68, 108, 69, 22, 113, 96, 152, 166, 197, 26, 119, 111, 176, 109, 203, 60, 20, 67, 98, 43, 81, 197, 202, 204, 135, 128, 220, 181, 115, 8, 100, 68, 80, 83, 63, 70, 112, 95, 209, 52, 111, 69, 36, 26, 142, 226, 38, 152, 182, 90, 108, 39, 37, 215, 179, 74, 243, 186, 32, 196, 67, 36, 146, 87, 150, 215, 145, 172, 48, 58, 13, 199, 119, 199, 33, 23, 196, 154, 227, 168, 141, 201, 54, 55, 164, 42, 172, 170, 37, 83, 217, 92, 208, 87, 100, 254, 91, 62, 15, 113, 38, 9, 164, 58, 172, 81, 201, 224, 132, 59, 183, 17, 38, 150, 232, 120, 60, 140, 200, 193, 32, 85, 248, 153, 185, 212, 105, 73, 235, 40, 49, 65, 76, 35, 215, 152, 109, 214, 51, 140, 134, 121, 169, 255, 100, 190, 46, 153, 13, 1, 208, 33, 14, 53, 103, 52, 92, 77, 209, 245, 55, 41, 162, 187, 197, 3, 166, 248, 98, 131, 8, 165, 194, 14, 184, 39, 233, 217, 133, 61, 146, 116, 1, 60, 139, 23, 170, 46, 10, 8, 124, 36, 202, 203, 147, 171, 38, 49, 248, 157, 112, 235, 117, 56, 91, 92, 12, 184, 18, 35, 70, 90, 245, 176, 181, 58, 23, 53, 217, 42, 74, 48, 8, 130, 102, 177, 17, 148, 11, 51, 140, 219, 56, 167, 96, 63, 225, 249, 53, 184, 229, 154, 97, 131, 73, 54, 150, 103, 111, 233, 38, 206, 48, 71, 84, 144, 92, 86, 38, 93, 78, 181, 189, 137, 58, 86, 188, 218, 26, 36, 201, 28, 102, 60, 58, 61, 22, 165, 213, 177, 61, 15, 128, 17, 47, 25, 22, 6, 144, 61, 42, 131, 183, 241, 55, 78, 164, 151, 89, 11, 177, 52, 52, 114, 155, 103, 132, 85, 243, 32, 70, 121, 226, 163, 2, 208, 203, 188, 33, 98, 96, 119, 57, 1, 68, 174, 15, 3, 77, 20, 209, 44, 211, 162, 62, 110, 182, 11, 249, 131, 149, 203, 114, 13, 24, 18, 15, 159, 170, 151, 12, 153, 156, 17, 48, 108, 131, 34, 134, 130, 103, 68, 158, 163, 122, 71, 135, 27, 195, 245, 144, 177, 249, 39, 11, 233, 130, 7, 247, 13, 144, 148, 2, 241, 225, 157, 168, 230, 107, 100, 38, 14, 222, 25, 159, 50, 113, 155, 246, 27, 149, 132, 37, 15, 215, 132, 20, 170, 103, 84, 233, 26, 21, 152, 171, 180, 77, 227, 136, 168, 251, 121, 140, 58, 57, 85, 75, 5, 192, 66, 154, 109, 10, 51, 182, 225, 61, 148, 249, 139, 230, 244, 111, 171, 181, 28, 153, 71, 51, 52, 196, 196, 159, 182, 161, 154, 163, 107, 201, 197, 126, 185, 96, 39, 135, 58, 67, 180, 75, 151, 59, 233, 205, 132, 211, 141, 184, 25, 64, 34, 65, 119, 208, 88, 60, 115, 244, 144, 207, 217, 19, 19, 39, 73, 0, 215, 99, 38, 51, 74, 223, 103, 158, 154, 41, 67, 196, 181, 203, 81, 235, 63, 24, 227, 0, 33, 48, 143, 2, 107, 3, 44, 37, 159, 235, 18, 97, 180, 70, 30, 113, 98, 111, 57, 22, 40, 143, 82, 0, 199, 1, 128, 47, 204, 152, 110, 163, 34, 189, 220, 31, 64, 145, 183, 32, 4, 192, 111, 44, 71, 238, 108, 106, 8, 232, 33, 46, 32, 56, 157, 74, 56, 149, 248, 36, 56, 21, 150, 209, 200, 131, 148, 114, 197, 43, 249, 173, 64, 2, 56, 159, 44, 25, 131, 147, 154, 15, 112, 120, 202, 19, 112, 220, 152, 42, 179, 212, 191, 197, 57, 173, 63, 231, 42, 76, 129, 34, 35, 90, 82, 183, 7, 95, 115, 170, 9, 43, 8, 102, 72, 131, 23, 231, 154, 35, 98, 147, 117, 95, 3, 155, 252, 171, 32, 70, 76, 171, 178, 49, 162, 214, 164, 70, 139, 148, 69, 102, 12, 138, 116, 227, 125, 237, 229, 180, 196, 150, 55, 167, 9, 24, 222, 83, 64, 140, 119, 152, 76, 106, 176, 7, 149, 61, 163, 9, 37, 94, 195, 61, 152, 1, 173, 158, 19, 131, 90, 123, 153, 25, 198, 6, 103, 192, 72, 182, 203, 35, 149, 195, 41, 254, 58, 30, 230, 241, 22, 113, 172, 28, 73, 59, 198, 218, 165, 128, 234, 38, 116, 170, 188, 128, 65, 200, 128, 234, 248, 155, 149, 7, 155, 145, 53, 20, 45, 24, 132, 7, 218, 183, 34, 66, 76, 249, 82, 124, 228, 51, 169, 40, 214, 186, 74, 154, 7, 3, 9, 205, 209, 148, 141, 62, 101, 185, 42, 85, 90, 191, 208, 179, 178, 180, 175, 232, 37, 201, 113, 0, 76, 157, 245, 10, 62, 156, 173, 175, 58, 63, 14, 104, 57, 96, 56, 199, 80, 160, 104, 36, 18, 151, 58, 155, 156, 200, 167, 76, 207, 7, 77, 197, 113, 200, 238, 57, 168, 204, 246, 93, 46, 117, 34, 46, 135, 85, 68, 42, 141, 183, 169, 39, 15, 5, 110, 203, 209, 21, 149, 108, 85, 17, 188, 88, 214, 68, 39, 164, 75, 89, 154, 33, 52, 49, 38, 75, 90, 53, 19, 222, 213, 26, 150, 128, 19, 211, 198, 206, 195, 186, 80, 120, 99, 64, 149, 149, 170, 45, 252, 14, 114, 65, 44, 174, 3, 71, 85, 161, 64, 67, 84, 91, 85, 50, 90, 218, 70, 0, 88, 218, 145, 236, 104, 157, 193, 103, 63, 26, 102, 107, 59, 34, 151, 57, 177, 48, 100, 44, 59, 252, 213, 65, 160, 132, 3, 210, 37, 65, 116, 155, 28, 77, 149, 137, 238, 212, 78, 84, 11, 123, 185, 32, 44, 32, 90, 199, 76, 182, 51, 17, 113, 191, 196, 135, 52, 187, 229, 74, 243, 104, 97, 219, 4, 173, 132, 80, 99, 1, 44, 44, 200, 210, 47, 46, 154, 30, 221, 16, 135, 100, 145, 34, 44, 121, 22, 228, 196, 70, 42, 67, 107, 193, 150, 184, 2, 250, 30, 165, 228, 182, 138, 193, 132, 107, 108, 135, 13, 155, 72, 169, 85, 69, 149, 85, 170, 12, 123, 32, 230, 194, 10, 194, 203, 144, 163, 117, 194, 78, 164, 187, 218, 210, 59, 50, 99, 35, 145, 43, 20, 72, 122, 205, 148, 180, 45, 68, 215, 116, 213, 211, 84, 239, 64, 49, 160, 171, 189, 208, 177, 83, 90, 92, 22, 47, 195, 204, 245, 24, 187, 47, 233, 37, 139, 149, 106, 119, 65, 182, 41, 51, 21, 118, 67, 123, 17, 227, 164, 169, 171, 205, 176, 108, 42, 220, 146, 156, 141, 232, 197, 62, 8, 113, 190, 202, 108, 240, 39, 170, 247, 170, 42, 226, 211, 178, 133, 183, 98, 132, 100, 55, 14, 50, 133, 231, 18, 24, 190, 161, 165, 77, 226, 39, 78, 105, 207, 118, 195, 100, 177, 9, 116, 221, 96, 203, 218, 197, 3, 106, 27, 18, 181, 246, 158, 71, 185, 101, 123, 32, 63, 124, 227, 195, 62, 183, 171, 253, 0, 165, 156, 112, 42, 28, 154, 137, 195, 150, 204, 2, 234, 110, 235, 212, 43, 184, 150, 17, 218, 51, 79, 16, 182, 54, 236, 242, 1, 10, 201, 59, 209, 37, 76, 34, 152, 16, 132, 250, 186, 125, 96, 6, 191, 153, 124, 144, 201, 180, 74, 184, 200, 129, 64, 71, 198, 7, 30, 236, 251, 45, 158, 3, 163, 183, 130, 128, 234, 2, 83, 114, 156, 29, 75, 192, 43, 251, 220, 183, 251, 97, 154, 38, 84, 135, 173, 71, 149, 37, 131, 34, 247, 226, 106, 49, 130, 37, 232, 80, 70, 224, 65, 190, 241, 6, 91, 178, 50, 146, 37, 4, 114, 217, 96, 67, 0, 27, 28, 149, 89, 68, 96, 128, 128, 21, 60, 177, 193, 201, 13, 231, 164, 45, 138, 214, 99, 63, 69, 10, 203, 136, 142, 59, 6, 157, 251, 147, 85, 73, 232, 173, 27, 90, 102, 17, 188, 63, 249, 242, 20, 105, 164, 75, 154, 89, 26, 196, 247, 25, 143, 160, 121, 253, 218, 9, 200, 101, 156, 25, 153, 81, 216, 33, 200, 183, 136, 168, 102, 43, 104, 134, 40, 206, 184, 241, 63, 127, 59, 39, 136, 166, 72, 43, 122, 135, 206, 82, 175, 199, 76, 36, 20, 208, 18, 76, 1, 20, 23, 48, 11, 82, 235, 83, 33, 20, 92, 106, 7, 46, 128, 34, 196, 255, 121, 159, 195, 23, 116, 214, 20, 18, 80, 38, 55, 15, 169, 146, 118, 36, 46, 250, 210, 149, 148, 156, 172, 132, 226, 181, 57, 41, 63, 158, 27, 185, 246, 181, 199, 30, 245, 187, 7, 137, 138, 215, 165, 27, 60, 213, 182, 219, 55, 171, 132, 48, 170, 212, 202, 40, 36, 236, 207, 167, 241, 21, 146, 219, 112, 152, 215, 87, 78, 210, 124, 78, 250, 171, 96, 75, 54, 163, 4, 108, 161, 201, 69, 172, 37, 41, 233, 172, 176}

// * MAIN START * //
func main() {
	//! BLOCK TESTING
	nxtutxodb.AddUTXO("txid1", 1, 120, "publickey1", 1, false)
	var transactions = []nxtblock.Transaction{
		{
			ID:        "1",
			Timestamp: time.Now().Unix(),
			Hash:      "hash1",
			Inputs: []nxtblock.TInput{{
				Txid:      "txid1",
				Index:     1,
				Signature: "signature1",
				PublicKey: "publickey1",
			}},
			Outputs: []nxtblock.TOutput{{
				Index:        1,
				Amount:       100,
				ReceiverAddr: "receiveraddr1",
			}},
			Signature: "signature1",
		},
	}

	sig := pqckpg_api.Sign(privateKey, []byte(transactions[0].Hash))

	base64Sig := encryption.Encrypt(string(sig))
	fmt.Printf("Base64 encoded: %s\n", base64Sig)

	decodedSig, err := encryption.Decrypt(base64Sig)
	if err != nil {
		fmt.Printf("Error decoding base64: %v\n", err)
	}

	fmt.Printf("Original bytes: %v\n", sig)
	fmt.Printf("Decoded bytes: %v\n", decodedSig)

	if string(sig) == string(decodedSig) {
		fmt.Println("Signatures match!")
	} else {
		fmt.Println("Signatures dont match!")
	}

	// Ablauf:
	// 1. Transaktionen validieren (Public Key, Signature des Hashes)
	fmt.Printf("Transaction valid: %t\n", nxtblock.ValidateTransaction(transactions[0]))
	// 2. Schauen ob die Transaktion gültig ist (Input > Output)
	// 3. Schauen ob die UTXO noch gültig ist und in der UTXO Datenbank vorhanden ist
	// 4. UTXO Inputs löschen & Block erstellen

	fee := nxtblock.CalculateBlockFee(transactions)
	fmt.Printf("Block fee: %f\n", fee)

	// seedNode := flag.String("seednode", "", "Optional seed node IP address")
	// flag.Parse()

	// startup()
	// createPeer(*seedNode)
}

// * MAIN * //
func start(Peer *gonetic.Peer) {
	nextutils.NewLine()
	nextutils.Debug("%s", "Beginning node main actions...")
	nextutils.Debug("%s", "Connection string: "+Peer.GetConnString())
	fmt.Println("YOUR CONNECTION STRING: " + Peer.GetConnString())

	// ~ NODE MAIN ACTIONS & LOG ~ //
	for {
		time.Sleep(1 * time.Second)
		conns := Peer.GetConnectedPeers()
		if len(conns) > 0 {
			fmt.Println(conns)
		}
	}
}

// * PEER OUTPUT HANDLER * //
func handleEvents(event string) {
	nextutils.Debug("%s", "[PEER EVENT] "+event)
}

// * PEER TO PEER * //
func createPeer(seedNode string) {
	nextutils.NewLine()
	nextutils.Debug("%s", "Creating peer...")

	maxConnections, err := strconv.Atoi(strconv.FormatFloat(config.Fields["max_connections"].(float64), 'f', 0, 64))
	if err != nil {
		nextutils.Error("Error: max_connections is not a valid integer")
		return
	}

	peerOutput := func(event string) {
		go handleEvents(event)
	}

	defaultPortStr := config.Fields["default_port"].(string)
	var default_port int
	if defaultPortStr == "" {
		default_port = 0
	} else {
		default_port, err = strconv.Atoi(defaultPortStr)
		if err != nil {
			nextutils.Error("Error: default_port is not a valid integer")
			return
		}
	}
	seedNodesInterface := config.Fields["seed_nodes"].([]interface{})
	seedNodes := make([]string, len(seedNodesInterface))
	for i, v := range seedNodesInterface {
		seedNodes[i] = v.(string)
	}

	if seedNode != "" {
		seedNodes = append(seedNodes, seedNode)
	}

	port := ""
	if default_port != 0 {
		port = strconv.Itoa(default_port)
	}
	Peer, err := gonetic.NewPeer(peerOutput, maxConnections, port)
	if err != nil {
		nextutils.Error("Error creating peer: %v", err)
		return
	}
	nextutils.Debug("%s", "Peer created. Starting peer...")
	nextutils.Debug("%s", "Max connections: "+strconv.Itoa(maxConnections))
	port = Peer.Port
	if default_port == 0 {
		nextutils.Debug("%s", "Peer port: random, see below ")
	} else {
		nextutils.Debug("%s", "Peer port: "+port)
	}
	go Peer.Start()
	time.Sleep(2 * time.Second)
	if len(seedNodes) == 0 {
		nextutils.Debug("%s", "No seed nodes available, you have to manually add them or connect.")
	} else {
		nextutils.Debug("%s", "Seed nodes: "+strings.Join(seedNodes, ", "))
		nextutils.Debug("%s", "Connecting to seed nodes...")
		for _, seedNode := range seedNodes {
			go Peer.Connect(seedNode)
		}

	}
	go clitools.UpdateCmdTitle(Peer)
	start(Peer)
}

// * STARTUP * //
func startup() {
	nextutils.InitDebugger(false)
	nextutils.NewLine()
	nextutils.Debug("Starting node...")
	nextutils.Debug("%s", "Version: "+version)
	nextutils.Debug("%s", "Developer Mode: "+strconv.FormatBool(devmode))
	nextutils.NewLine()
	nextutils.Debug("%s", "Checking config file...")
	configmanager.InitConfig()
	nextutils.Debug("%s", "Config file: "+configmanager.GetConfigPath())

	nextutils.Debug("%s", "Applying config...")
	var err error
	config, err = configmanager.LoadConfig()
	if err != nil {
		nextutils.Error("Error loading config: %v", err)
		return
	}
	if err := configmanager.SetItem("block_dir", "blocks", &config, true); err != nil {
		nextutils.Error("Error setting block_dir: %v", err)
		return
	}
	if err := configmanager.SetItem("default_port", "5012", &config, true); err != nil {
		nextutils.Error("Error setting default_port: %v", err)
		return
	}
	nextutils.Debug("%s", "Config applied.")
	for key, value := range config.Fields {
		nextutils.Debug("- %s = %v", key, value)
	}

	nextutils.PrintLogo("V "+version+" - (c) 2025 NXTCHAIN. All rights reserved.\n-> NODE APPLICATION", devmode)
}
